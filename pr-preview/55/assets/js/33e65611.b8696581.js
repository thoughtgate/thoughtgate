"use strict";(globalThis.webpackChunkthoughtgate_docs=globalThis.webpackChunkthoughtgate_docs||[]).push([[851],{1898(e,r,n){n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>t,metadata:()=>d,toc:()=>o});const d=JSON.parse('{"id":"reference/error-codes","title":"Error Codes Reference","description":"ThoughtGate returns JSON-RPC 2.0 compliant errors. Every error includes structured data with a correlation ID for debugging.","source":"@site/docs/reference/error-codes.md","sourceDirName":"reference","slug":"/reference/error-codes","permalink":"/pr-preview/55/docs/reference/error-codes","draft":false,"unlisted":false,"editUrl":"https://github.com/thoughtgate/thoughtgate/tree/main/website/docs/reference/error-codes.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Policy Syntax Reference","permalink":"/pr-preview/55/docs/reference/policy-syntax"},"next":{"title":"Telemetry Reference","permalink":"/pr-preview/55/docs/reference/telemetry"}}');var i=n(4848),s=n(8453);const t={sidebar_position:5},l="Error Codes Reference",c={},o=[{value:"Standard JSON-RPC Errors",id:"standard-json-rpc-errors",level:2},{value:"ThoughtGate-Specific Errors",id:"thoughtgate-specific-errors",level:2},{value:"Upstream Errors (-32000 to -32002)",id:"upstream-errors--32000-to--32002",level:3},{value:"Gate 3: Cedar Policy (-32003)",id:"gate-3-cedar-policy--32003",level:3},{value:"Task Errors (-32005, -32006, -32020)",id:"task-errors--32005--32006--32020",level:3},{value:"Gate 4: Approval Errors (-32007, -32008, -32017)",id:"gate-4-approval-errors--32007--32008--32017",level:3},{value:"Rate Limiting (-32009)",id:"rate-limiting--32009",level:3},{value:"Pipeline Errors (-32010 to -32012)",id:"pipeline-errors--32010-to--32012",level:3},{value:"Service Errors (-32013)",id:"service-errors--32013",level:3},{value:"Gate 2: Governance Rule (-32014)",id:"gate-2-governance-rule--32014",level:3},{value:"Gate 1: Visibility (-32015)",id:"gate-1-visibility--32015",level:3},{value:"Configuration (-32016)",id:"configuration--32016",level:3},{value:"Error by Gate",id:"error-by-gate",level:2},{value:"Error Response Format",id:"error-response-format",level:2},{value:"<code>data</code> Fields",id:"data-fields",level:3},{value:"Handling Errors",id:"handling-errors",level:2},{value:"Retry-able Errors",id:"retry-able-errors",level:3},{value:"Non-Retry-able Errors",id:"non-retry-able-errors",level:3},{value:"Example Error Handling",id:"example-error-handling",level:2}];function h(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"error-codes-reference",children:"Error Codes Reference"})}),"\n",(0,i.jsxs)(r.p,{children:["ThoughtGate returns JSON-RPC 2.0 compliant errors. Every error includes structured ",(0,i.jsx)(r.code,{children:"data"})," with a correlation ID for debugging."]}),"\n",(0,i.jsx)(r.h2,{id:"standard-json-rpc-errors",children:"Standard JSON-RPC Errors"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32700"})}),(0,i.jsx)(r.td,{children:"Parse Error"}),(0,i.jsx)(r.td,{children:"Invalid JSON"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32600"})}),(0,i.jsx)(r.td,{children:"Invalid Request"}),(0,i.jsx)(r.td,{children:"Not a valid JSON-RPC request"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32601"})}),(0,i.jsx)(r.td,{children:"Method Not Found"}),(0,i.jsx)(r.td,{children:"Unknown method"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32602"})}),(0,i.jsx)(r.td,{children:"Invalid Params"}),(0,i.jsx)(r.td,{children:"Invalid method parameters"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32603"})}),(0,i.jsx)(r.td,{children:"Internal Error"}),(0,i.jsx)(r.td,{children:"Internal server error"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"thoughtgate-specific-errors",children:"ThoughtGate-Specific Errors"}),"\n",(0,i.jsx)(r.h3,{id:"upstream-errors--32000-to--32002",children:"Upstream Errors (-32000 to -32002)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32000"})}),(0,i.jsx)(r.td,{children:"Upstream Connection Failed"}),(0,i.jsx)(r.td,{children:"Cannot connect to upstream MCP server"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32001"})}),(0,i.jsx)(r.td,{children:"Upstream Timeout"}),(0,i.jsx)(r.td,{children:"Upstream request timed out"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32002"})}),(0,i.jsx)(r.td,{children:"Upstream Error"}),(0,i.jsx)(r.td,{children:"Upstream returned an error"})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"gate-3-cedar-policy--32003",children:"Gate 3: Cedar Policy (-32003)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsx)(r.tbody,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32003"})}),(0,i.jsx)(r.td,{children:"Policy Denied"}),(0,i.jsx)(r.td,{children:"Cedar policy denied the request"})]})})]}),"\n",(0,i.jsx)(r.h3,{id:"task-errors--32005--32006--32020",children:"Task Errors (-32005, -32006, -32020)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32005"})}),(0,i.jsx)(r.td,{children:"Task Expired"}),(0,i.jsx)(r.td,{children:"Task exceeded its TTL"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32006"})}),(0,i.jsx)(r.td,{children:"Task Cancelled"}),(0,i.jsx)(r.td,{children:"Task was cancelled"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32020"})}),(0,i.jsx)(r.td,{children:"Task Result Not Ready"}),(0,i.jsx)(r.td,{children:"Task result is still pending"})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"gate-4-approval-errors--32007--32008--32017",children:"Gate 4: Approval Errors (-32007, -32008, -32017)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32007"})}),(0,i.jsx)(r.td,{children:"Approval Rejected"}),(0,i.jsx)(r.td,{children:"Human reviewer rejected the request"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32008"})}),(0,i.jsx)(r.td,{children:"Approval Timeout"}),(0,i.jsx)(r.td,{children:"Approval window expired without a decision"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32017"})}),(0,i.jsx)(r.td,{children:"Workflow Not Found"}),(0,i.jsx)(r.td,{children:"Approval workflow name not found in config"})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"rate-limiting--32009",children:"Rate Limiting (-32009)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsx)(r.tbody,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32009"})}),(0,i.jsx)(r.td,{children:"Rate Limited"}),(0,i.jsx)(r.td,{children:"Too many requests"})]})})]}),"\n",(0,i.jsx)(r.h3,{id:"pipeline-errors--32010-to--32012",children:"Pipeline Errors (-32010 to -32012)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32010"})}),(0,i.jsx)(r.td,{children:"Inspection Failed"}),(0,i.jsx)(r.td,{children:"An inspector rejected the request (v0.3+)"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32011"})}),(0,i.jsx)(r.td,{children:"Policy Drift"}),(0,i.jsx)(r.td,{children:"Policy changed between approval and execution (v0.3+)"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32012"})}),(0,i.jsx)(r.td,{children:"Transform Drift"}),(0,i.jsx)(r.td,{children:"Request context changed during approval (v0.3+)"})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"service-errors--32013",children:"Service Errors (-32013)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsx)(r.tbody,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32013"})}),(0,i.jsx)(r.td,{children:"Service Unavailable"}),(0,i.jsx)(r.td,{children:"ThoughtGate not ready to serve traffic"})]})})]}),"\n",(0,i.jsx)(r.h3,{id:"gate-2-governance-rule--32014",children:"Gate 2: Governance Rule (-32014)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsx)(r.tbody,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32014"})}),(0,i.jsx)(r.td,{children:"Governance Rule Denied"}),(0,i.jsxs)(r.td,{children:["YAML governance rule matched with ",(0,i.jsx)(r.code,{children:"action: deny"})]})]})})]}),"\n",(0,i.jsx)(r.h3,{id:"gate-1-visibility--32015",children:"Gate 1: Visibility (-32015)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsx)(r.tbody,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32015"})}),(0,i.jsx)(r.td,{children:"Tool Not Exposed"}),(0,i.jsx)(r.td,{children:"Tool is hidden by the source's exposure configuration"})]})})]}),"\n",(0,i.jsx)(r.h3,{id:"configuration--32016",children:"Configuration (-32016)"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsx)(r.tbody,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32016"})}),(0,i.jsx)(r.td,{children:"Configuration Error"}),(0,i.jsx)(r.td,{children:"Configuration is invalid or cannot be loaded"})]})})]}),"\n",(0,i.jsx)(r.h2,{id:"error-by-gate",children:"Error by Gate"}),"\n",(0,i.jsx)(r.p,{children:"Each gate in the 4-gate pipeline produces specific errors:"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Gate"}),(0,i.jsx)(r.th,{children:"Error Codes"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Gate 1: Visibility"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32015"})}),(0,i.jsx)(r.td,{children:"Tool not in the allowlist or in the blocklist"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Gate 2: Governance"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32014"})}),(0,i.jsxs)(r.td,{children:["YAML rule matched with ",(0,i.jsx)(r.code,{children:"action: deny"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Gate 3: Cedar Policy"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-32003"})}),(0,i.jsx)(r.td,{children:"Cedar policy evaluation returned deny"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Gate 4: Approval"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"-32007"}),", ",(0,i.jsx)(r.code,{children:"-32008"}),", ",(0,i.jsx)(r.code,{children:"-32017"})]}),(0,i.jsx)(r.td,{children:"Approval rejected, timed out, or workflow missing"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"error-response-format",children:"Error Response Format"}),"\n",(0,i.jsxs)(r.p,{children:["All errors include a structured ",(0,i.jsx)(r.code,{children:"data"})," field:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "error": {\n    "code": -32003,\n    "message": "Policy denied access to tool \'admin_console\'",\n    "data": {\n      "correlation_id": "550e8400-e29b-41d4-a716-446655440000",\n      "gate": "policy",\n      "tool": "admin_console",\n      "details": null,\n      "error_type": "policy_denied",\n      "retry_after": null\n    }\n  },\n  "id": 1\n}\n'})}),"\n",(0,i.jsxs)(r.h3,{id:"data-fields",children:[(0,i.jsx)(r.code,{children:"data"})," Fields"]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Field"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"correlation_id"})}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Unique ID for log correlation. Always present."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"gate"})}),(0,i.jsx)(r.td,{children:"string | null"}),(0,i.jsxs)(r.td,{children:["Which gate rejected: ",(0,i.jsx)(r.code,{children:'"visibility"'}),", ",(0,i.jsx)(r.code,{children:'"governance"'}),", ",(0,i.jsx)(r.code,{children:'"policy"'}),", ",(0,i.jsx)(r.code,{children:'"approval"'}),". Null for non-gate errors."]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"tool"})}),(0,i.jsx)(r.td,{children:"string | null"}),(0,i.jsx)(r.td,{children:"Tool name that was denied, if applicable."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"details"})}),(0,i.jsx)(r.td,{children:"string | null"}),(0,i.jsx)(r.td,{children:"Safe details for the client. Sensitive information is never exposed."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"error_type"})}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsxs)(r.td,{children:["Machine-readable error classification (e.g., ",(0,i.jsx)(r.code,{children:'"policy_denied"'}),", ",(0,i.jsx)(r.code,{children:'"upstream_timeout"'}),")."]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"retry_after"})}),(0,i.jsx)(r.td,{children:"number | null"}),(0,i.jsxs)(r.td,{children:["Seconds to wait before retrying (only set for ",(0,i.jsx)(r.code,{children:"-32009 RateLimited"}),")."]})]})]})]}),"\n",(0,i.jsx)(r.admonition,{title:"Security",type:"info",children:(0,i.jsxs)(r.p,{children:["Gate errors (",(0,i.jsx)(r.code,{children:"-32003"}),", ",(0,i.jsx)(r.code,{children:"-32014"}),", ",(0,i.jsx)(r.code,{children:"-32015"}),") intentionally omit ",(0,i.jsx)(r.code,{children:"details"})," to avoid exposing policy internals, governance rule patterns, or visibility configuration to the agent."]})}),"\n",(0,i.jsx)(r.h2,{id:"handling-errors",children:"Handling Errors"}),"\n",(0,i.jsx)(r.h3,{id:"retry-able-errors",children:"Retry-able Errors"}),"\n",(0,i.jsx)(r.p,{children:"These errors may succeed on retry:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32001"})," Upstream Timeout \u2014 upstream may recover"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32005"})," Task Expired \u2014 resubmit the request"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32008"})," Approval Timeout \u2014 resubmit for a new approval"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32009"})," Rate Limited \u2014 retry after the ",(0,i.jsx)(r.code,{children:"retry_after"})," delay"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32013"})," Service Unavailable \u2014 ThoughtGate is starting up"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32020"})," Task Result Not Ready \u2014 continue polling"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"non-retry-able-errors",children:"Non-Retry-able Errors"}),"\n",(0,i.jsx)(r.p,{children:"These errors will not succeed on retry without changes:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32003"})," Policy Denied \u2014 policy must change"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32007"})," Approval Rejected \u2014 human decided to reject"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32014"})," Governance Rule Denied \u2014 rule must change"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32015"})," Tool Not Exposed \u2014 exposure config must change"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32016"})," Configuration Error \u2014 fix the config file"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"-32017"})," Workflow Not Found \u2014 add the missing workflow to config"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"example-error-handling",children:"Example Error Handling"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:'import json\n\ndef handle_response(response):\n    data = json.loads(response)\n\n    if "error" in data:\n        error = data["error"]\n        code = error["code"]\n        message = error["message"]\n        error_data = error.get("data", {})\n\n        # Log correlation ID for debugging\n        print(f"Correlation: {error_data.get(\'correlation_id\', \'unknown\')}")\n\n        if code in (-32003, -32014, -32015):\n            print(f"Access denied (gate: {error_data.get(\'gate\')}): {message}")\n        elif code == -32007:\n            print(f"Approval rejected: {message}")\n        elif code == -32008:\n            print(f"Approval timed out: {message}")\n        elif code == -32009:\n            retry_after = error_data.get("retry_after", 60)\n            print(f"Rate limited, retry after {retry_after}s")\n        elif code in (-32001, -32013):\n            print(f"Temporary error, retrying: {message}")\n        else:\n            print(f"Error {code}: {message}")\n    else:\n        return data["result"]\n'})})]})}function a(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453(e,r,n){n.d(r,{R:()=>t,x:()=>l});var d=n(6540);const i={},s=d.createContext(i);function t(e){const r=d.useContext(s);return d.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),d.createElement(s.Provider,{value:r},e.children)}}}]);